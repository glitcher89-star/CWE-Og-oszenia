<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Discord</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #2c2f33; /* Ciemne tło, jak na obrazku */
            color: #f6f6f7;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
            position: relative;
        }
        .container {
            background-color: #23272a; /* Tło panelu */
            border-radius: 1rem;
            padding: 2rem;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .message-input, .webhook-input, .channel-select {
            width: 100%;
            padding: 0.75rem;
            background-color: #40444b; /* Tło pól wejściowych */
            border: none; /* Usuwa domyślną ramkę */
            border-radius: 0.5rem;
            color: #f6f6f7;
            outline: none;
            resize: vertical;
            transition: box-shadow 0.3s;
        }
        .message-input:focus, .webhook-input:focus, .channel-select:focus {
            box-shadow: 0 0 0 2px #5865f2; /* Podświetlenie po kliknięciu, jak w Discordzie */
        }
        .send-button {
            background-color: #5865f2; /* Kolor przycisku, jak w Discordzie */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        .send-button:hover {
            background-color: #4752c4;
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), 0 6px 8px rgba(0, 0, 0, 0.3);
            animation: pulse-glow 1.5s infinite;
        }
        .send-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .input-glow:hover {
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), 0 6px 8px rgba(0, 0, 0, 0.3);
            animation: pulse-glow 1.5s infinite;
        }
        
        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), 0 6px 8px rgba(0, 0, 0, 0.3);
            }
            50% {
                box-shadow: 0 0 25px rgba(0, 0, 0, 0.9), 0 6px 8px rgba(0, 0, 0, 0.3);
            }
            100% {
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), 0 6px 8px rgba(0, 0, 0, 0.3);
            }
        }
        .status-message {
            font-size: 0.875rem;
            text-align: center;
        }
        .footer {
            position: absolute;
            bottom: 1rem;
            width: 100%;
            text-align: center;
            font-size: 0.875rem;
            color: #99aab5;
        }
        .youtube-container {
            margin-top: 2rem;
            width: 100%;
            max-width: 500px; /* Dopasowanie do szerokości panelu */
            background-color: #23272a;
            border-radius: 1rem;
            padding: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .youtube-iframe {
            width: 100%;
            height: 281px; /* Mniejsza wysokość dla proporcji 16:9 na szerokości 500px */
            border-radius: 0.5rem;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center">Panel Discord</h1>
        <p class="text-sm text-center text-gray-400">Wyślij wiadomość do swojego bota.</p>
        
        <div class="input-group">
            <label for="channelSelect" class="text-sm font-bold text-gray-400">Wybierz kanał:</label>
            <select id="channelSelect" class="channel-select input-glow">
                <option value="ceremony">Ceremony</option>
                <option value="ogloszenia">Ogłoszenia</option>
                <option value="rozwoj">Rozwój</option>
            </select>
        </div>

        <div class="input-group">
            <label for="webhookInput" class="text-sm font-bold text-gray-400">URL Webhoooka:</label>
            <input type="text" id="webhookInput" class="webhook-input input-glow" placeholder="Wklej tutaj URL webhoooka kanału Ceremony">
        </div>

        <textarea id="messageInput" class="message-input input-glow" rows="4" placeholder="Wpisz wiadomość..."></textarea>
        <button id="sendButton" class="send-button">Wyślij wiadomość</button>
        <div id="status" class="status-message"></div>
    </div>
    
    <div class="youtube-container">
        <h2 class="text-xl font-bold text-center">Film z YouTube</h2>
        <iframe id="youtubeIframe" class="youtube-iframe" src="https://www.youtube.com/embed/mlhCYSTSvFQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <div class="footer">
        <p>Version: 2.00</p>
        <p>Made By: Xyno</p>
    </div>

    <script>
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const statusDiv = document.getElementById('status');
        const webhookInput = document.getElementById('webhookInput');
        const channelSelect = document.getElementById('channelSelect');

        const botName = 'CWE | Ogłoszenia';

        let ceremonyWebhookUrl = localStorage.getItem('ceremonyWebhookUrl') || '';
        let ogloszeniaWebhookUrl = localStorage.getItem('ogloszeniaWebhookUrl') || '';
        let rozwojWebhookUrl = localStorage.getItem('rozwojWebhookUrl') || '';


        webhookInput.value = ceremonyWebhookUrl;
        
        channelSelect.addEventListener('change', () => {
            const selectedChannel = channelSelect.value;
            if (selectedChannel === 'ceremony') {
                webhookInput.placeholder = "Wklej tutaj URL webhoooka kanału Ceremony";
                webhookInput.value = ceremonyWebhookUrl;
            } else if (selectedChannel === 'ogloszenia') {
                webhookInput.placeholder = "Wklej tutaj URL webhoooka kanału Ogłoszenia";
                webhookInput.value = ogloszeniaWebhookUrl;
            } else if (selectedChannel === 'rozwoj') {
                webhookInput.placeholder = "Wklej tutaj URL webhoooka kanału Rozwój";
                webhookInput.value = rozwojWebhookUrl;
            }
        });

        webhookInput.addEventListener('input', () => {
            const currentUrl = webhookInput.value.trim();
            const selectedChannel = channelSelect.value;
            if (selectedChannel === 'ceremony') {
                ceremonyWebhookUrl = currentUrl;
                localStorage.setItem('ceremonyWebhookUrl', currentUrl);
            } else if (selectedChannel === 'ogloszenia') {
                ogloszeniaWebhookUrl = currentUrl;
                localStorage.setItem('ogloszeniaWebhookUrl', currentUrl);
            } else if (selectedChannel === 'rozwoj') {
                rozwojWebhookUrl = currentUrl;
                localStorage.setItem('rozwojWebhookUrl', currentUrl);
            }
        });

        function showStatus(message, isError = false) {
            statusDiv.textContent = message;
            statusDiv.style.color = isError ? '#fc8181' : '#68d391';
        }

        sendButton.addEventListener('click', () => {
            const webhookUrl = webhookInput.value.trim();
            const messageContent = messageInput.value.trim();

            if (webhookUrl === '') {
                showStatus('Błąd: Musisz podać URL webhoooka!', true);
                return;
            }

            if (messageContent === '') {
                showStatus('Wiadomość nie może być pusta!', true);
                return;
            }

            const payload = {
                username: botName,
                content: messageContent,
            };

            showStatus('Wysyłanie wiadomości...');

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload),
            })
            .then(response => {
                if (response.ok) {
                    showStatus('Wiadomość wysłana pomyślnie!');
                    messageInput.value = '';
                } else {
                    showStatus(`Błąd wysyłania: ${response.statusText}`, true);
                }
            })
            .catch(error => {
                showStatus('Błąd połączenia. Sprawdź URL webhoooka.', true);
                console.error('Błąd:', error);
            });
        });
    </script>
</body>
</html>